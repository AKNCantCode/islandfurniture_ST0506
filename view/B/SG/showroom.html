<!DOCTYPE html>
<script src="../checkCountry.js"></script>
<html>
  <script src="../../header.js"></script>

  <body class="showroom-page">
    <div class="body">
      <script src="menu2.js"></script>

      <div role="main" class="main showroom-main">
        <section class="page-top showroom-page-top">
          <div class="container">
            <div class="row">
              <div class="col-md-12"><h2>Showroom</h2></div>
            </div>
          </div>
        </section>

        <div class="container showroom-container">
          <div class="row">
            <div class="col-md-12">
              <p class="text-muted showroom-hint">Hover over an item to view name, price and dimensions.</p>
            </div>
          </div>

          <div class="row">
            <div class="col-md-12">
              <div id="roomViewport" class="showroom-viewport" aria-label="Room layout">
                <!-- Background image (changes based on ?room=) -->
                <img id="roomBg" class="showroom-bg" alt="Room layout" />
                <!-- Error flow fallback -->
                <div id="roomFallback" class="room-fallback" style="display:none;">Image not available</div>

                <!-- Hover tooltip -->
                <div id="hoverCard" class="showroom-hovercard" role="tooltip" aria-hidden="true"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <script src="../footer.js"></script>
    </div>

    <style>
      /* allow page to scroll for footer; room itself still fits in its own viewport box */
      body.showroom-page { overflow-x: hidden; }

      .showroom-page-top { padding: 20px 0; }
      .showroom-main { padding-bottom: 0; }
      .showroom-container { margin-top: 10px; }
      .showroom-hint { margin: 0 0 10px; }

      .showroom-viewport {
        position: relative;
        width: 100%;
        height: 520px; /* stable height so footer can exist below */
        border: 1px solid #e5e5e5;
        border-radius: 10px;
        background: #f3f3f3;
        overflow: hidden;
      }

      /* Background room image */
      .showroom-bg {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;         /* keeps full room visible */
        object-position: center;
        z-index: 1;
        background: #f2f2f2;
      }

      /* Image error fallback */
      .room-fallback {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2;
        color: rgba(0,0,0,0.55);
        font-size: 14px;
        background: #f3f3f3;
      }

      /* Hotspots (invisible boxes above the image) */
      .room-hotspot {
        position: absolute;
        z-index: 3; /* above background image */
        background: rgba(255,255,255,0.00);
        border: 2px solid rgba(255,255,255,0.0);
        border-radius: 10px;
        cursor: default;
        user-select: none;
      }

      /* Optional debugging: uncomment to see hotspot boxes */
      
      .room-hotspot {
        background: rgba(0,123,255,0.18);
        border-color: rgba(0,123,255,0.35);
      }
      

      /* Hover tooltip */
      .showroom-hovercard {
        position: absolute;
        display: none;
        z-index: 9999;
        pointer-events: none;
        padding: 10px 12px;
        border-radius: 10px;
        border: 1px solid rgba(0,0,0,0.12);
        background: #fff;
        box-shadow: 0 10px 25px rgba(0,0,0,0.12);
        font-size: 13px;
        line-height: 1.35;
        max-width: 260px;
      }
      .showroom-hovercard .title { font-weight: 700; margin-bottom: 4px; }
      .showroom-hovercard .meta { color: rgba(0,0,0,0.75); }
    </style>

    <script src="showroom.js"></script>
  </body>
</html>
